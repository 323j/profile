
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>الملف الشخصي - أحمد</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --bg-color: #1a1a1a;
    --text-color: #ffffff;
    --card-bg: #2d2d2d;
    --hover-color: #3d3d3d;
    --primary-color: #4a6bff;
    --secondary-color: #ff6b4a;
    --edit-color: #2ecc71;
    --welcome-color: #9b59b6;
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: 'Tajawal', sans-serif;
    margin: 0;
    padding: 20px;
    transition: all 0.3s ease;
    position: relative;
    overflow-x: hidden;
}

#canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    opacity: 0.7;
}

.container {
    max-width: 500px;
    margin: 0 auto;
    text-align: right;
    position: relative;
    z-index: 1;
}

.header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
    position: relative;
}

.profile-image {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--primary-color);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease;
    cursor: pointer;
}

.profile-image:hover {
    transform: scale(1.05);
}

.profile-title {
    margin: 0;
    color: var(--primary-color);
    font-size: 1.8rem;
}

.profile-subtitle {
    margin: 5px 0 0;
    color: var(--secondary-color);
    font-size: 1rem;
}

.card {
    background-color: var(--card-bg);
    padding: 20px;
    border-radius: 15px;
    margin: 15px 0;
    line-height: 1.6;
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.3s ease;
    position: relative;
}

.card:hover {
    transform: translateY(-5px);
}

.card h2 {
    color: var(--primary-color);
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.4rem;
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 8px;
    display: inline-block;
}

.bio-text {
    margin: 0;
    line-height: 1.8;
}

.list-item {
    margin: 12px 0;
    font-size: 1rem;
    display: flex;
    align-items: center;
}

.list-item i {
    margin-left: 10px;
    color: var(--secondary-color);
    width: 25px;
    text-align: center;
}

.social-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
    margin: 20px 0;
}

.social-button {
    background-color: var(--card-bg);
    color: var(--text-color);
    padding: 12px;
    border-radius: 10px;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    backdrop-filter: blur(5px);
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-weight: 500;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.social-button:hover {
    background-color: var(--hover-color);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.social-button i {
    font-size: 1.2rem;
}

#theme-toggle, #edit-toggle {
    background-color: var(--primary-color);
    color: white;
    padding: 12px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    margin: 10px auto;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    transition: all 0.3s ease;
}

#theme-toggle:hover {
    background-color: var(--secondary-color);
    transform: translateY(-3px);
}

#edit-toggle {
    background-color: var(--edit-color);
    margin-top: 20px;
    display: none; /* مخفي افتراضيًا */
}

#edit-toggle:hover {
    background-color: #27ae60;
    transform: translateY(-3px);
}

.skills-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 15px;
}

.skill-tag {
    background-color: var(--primary-color);
    color: white;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
}

.progress-container {
    width: 100%;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    margin: 15px 0;
    height: 10px;
}

.progress-bar {
    height: 100%;
    border-radius: 10px;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    width: 0;
    transition: width 1s ease;
}

.light-theme {
    --bg-color: #f5f7fa;
    --text-color: #333333;
    --card-bg: #ffffff;
    --hover-color: #f0f2f5;
    --primary-color: #3a5bff;
    --secondary-color: #ff5b3a;
    --edit-color: #27ae60;
    --welcome-color: #8e44ad;
}

.dark-theme {
    --bg-color: #1a1a1a;
    --text-color: #e0e0e0;
    --card-bg: #2d2d2d;
    --hover-color: #3d3d3d;
    --primary-color: #4a6bff;
    --secondary-color: #ff6b4a;
    --edit-color: #2ecc71;
    --welcome-color: #9b59b6;
}

.edit-mode .editable {
    border-bottom: 1px dashed var(--edit-color);
    padding-bottom: 2px;
    cursor: pointer;
}

.edit-panel {
    position: fixed;
    top: 0;
    right: -350px;
    width: 340px;
    height: 100vh;
    background-color: var(--card-bg);
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
    padding: 20px;
    transition: right 0.3s ease;
    z-index: 1000;
    overflow-y: auto;
}

.edit-panel.open {
    right: 0;
}

.edit-panel h3 {
    color: var(--primary-color);
    margin-top: 0;
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 10px;
}

.edit-form-group {
    margin-bottom: 15px;
}

.edit-form-group label {
    display: block;
    margin-bottom: 5px;
    color: var(--text-color);
}

.edit-form-group input, 
.edit-form-group textarea, 
.edit-form-group select {
    width: 100%;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    background-color: var(--bg-color);
    color: var(--text-color);
}

.edit-form-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.edit-form-actions button {
    flex: 1;
    padding: 10px;
    border-radius: 5px;
    border: none;
    cursor: pointer;
    font-weight: bold;
}

.save-btn {
    background-color: var(--edit-color);
    color: white;
}

.cancel-btn {
    background-color: var(--secondary-color);
    color: white;
}

.close-panel {
    position: absolute;
    top: 10px;
    left: 10px;
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.5rem;
    cursor: pointer;
}

.welcome-banner {
    background-color: var(--welcome-color);
    color: white;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    text-align: center;
    animation: fadeIn 1s ease;
}

.visitor-info {
    font-size: 0.9rem;
    margin-top: 10px;
    opacity: 0.8;
}

.visitor-info i {
    margin-left: 8px;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@media (max-width: 600px) {
    .header {
        flex-direction: column;
        text-align: center;
    }
    
    .container {
        padding: 10px;
    }
    
    .social-links {
        grid-template-columns: 1fr;
    }
    
    .edit-panel {
        width: 280px;
    }
}
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div class="container">
    <!-- شريط الترحيب -->
    <div class="welcome-banner" id="welcome-banner">
        <h3><i class="fas fa-hand-wave"></i> مرحبًا بك في ملفي الشخصي!</h3>
        <div class="visitor-info">
            <div><i class="fas fa-clock"></i> وقت الزيارة: <span id="visit-time"></span></div>
            <div><i class="fas fa-globe"></i> المتصفح: <span id="browser-info"></span></div>
            <div><i class="fas fa-desktop"></i> نظام التشغيل: <span id="os-info"></span></div>
        </div>
    </div>

    <div class="header">
        <img src="6610925486.png" alt="صورة الملف الشخصي" class="profile-image" id="profile-image">
        <div>
            <h1 class="profile-title editable" id="profile-name">أحمد</h1>
            <p class="profile-subtitle editable" id="profile-title">مهندس برمجيات محترف</p>
        </div>
    </div>
    
    <div class="card bio">
        <h2><i class="fas fa-user"></i> نبذة عني</h2>
        <p class="bio-text editable" id="profile-bio">
            مهندس برمجيات محترف متخصص في تطوير التطبيقات والأنظمة البرمجية. أمتلك خبرة واسعة في تطوير الويب وتصميم الواجهات الأمامية والخلفية. شغفي بالبرمجة يدفعني لتعلم التقنيات الحديثة باستمرار وبناء حلول مبتكرة.
        </p>
    </div>
    
    <div class="card info">
        <h2><i class="fas fa-info-circle"></i> المعلومات الشخصية</h2>
        <div class="list-item"><i class="fas fa-signature"></i> <span class="editable" data-field="name">الاسم:</span> <span class="editable" id="info-name">أحمد</span></div>
        <div class="list-item"><i class="fas fa-globe"></i> <span class="editable" data-field="country">البلد:</span> <span class="editable" id="info-country">العراق</span></div>
        <div class="list-item"><i class="fas fa-city"></i> <span class="editable" data-field="city">المدينة:</span> <span class="editable" id="info-city">الكوت</span></div>
        <div class="list-item"><i class="fas fa-at"></i> <span class="editable" data-field="username">اسم المستخدم:</span> <span class="editable" id="info-username">@A_A_T_T</span></div>
        <div class="list-item"><i class="fas fa-heart"></i> <span class="editable" data-field="hobby">الهوايات:</span> <span class="editable" id="info-hobby">البرمجة، القراءة</span></div>
        <div class="list-item"><i class="fas fa-ring"></i> <span class="editable" data-field="status">الحالة الاجتماعية:</span> <span class="editable" id="info-status">متزوج</span></div>
        <div class="list-item"><i class="fas fa-birthday-cake"></i> <span class="editable" data-field="birthday">تاريخ الميلاد:</span> <span class="editable" id="info-birthday">12 مايو</span></div>
    </div>
    
    <div class="card skills">
        <h2><i class="fas fa-code"></i> المهارات التقنية</h2>
        <div class="skills-container" id="skills-container">
            <span class="skill-tag">Python</span>
            <span class="skill-tag">JavaScript</span>
            <span class="skill-tag">React.js</span>
            <span class="skill-tag">Node.js</span>
            <span class="skill-tag">HTML/CSS</span>
            <span class="skill-tag">SQL</span>
            <span class="skill-tag">Git</span>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" style="width: 90%"></div>
        </div>
        <div class="list-item">تطوير الويب - 90%</div>
        
        <div class="progress-container">
            <div class="progress-bar" style="width: 85%"></div>
        </div>
        <div class="list-item">برمجة بايثون - 85%</div>
        
        <div class="progress-container">
            <div class="progress-bar" style="width: 80%"></div>
        </div>
        <div class="list-item">تطوير التطبيقات - 80%</div>
    </div>
    
    <div class="social-links">
        <a href="https://www.tiktok.com/@_5udw" class="social-button" id="tiktok-link">
            <i class="fab fa-tiktok"></i> تيك توك
        </a>
        <a href="https://t.me/A_A_T_T" class="social-button" id="telegram-link">
            <i class="fab fa-telegram"></i> تلغرام
        </a>
        <a href="https://t.me/A_A_T_T1" class="social-button" id="telegram-channel">
            <i class="fab fa-telegram-plane"></i> قناة تلغرام
        </a>
        <a href="mailto:example@example.com" class="social-button" id="email-link">
            <i class="fas fa-envelope"></i> البريد
        </a>
    </div>
    
    <button id="theme-toggle">
        <i class="fas fa-moon"></i> تغيير السمة
    </button>
    
    <button id="edit-toggle">
        <i class="fas fa-edit"></i> وضع التعديل
    </button>
</div>

<div class="edit-panel" id="edit-panel">
    <button class="close-panel" id="close-panel">&times;</button>
    <h3><i class="fas fa-edit"></i> تعديل الملف الشخصي</h3>
    
    <div class="edit-form-group">
        <label for="edit-name">الاسم:</label>
        <input type="text" id="edit-name" value="أحمد">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-title">المسمى الوظيفي:</label>
        <input type="text" id="edit-title" value="مهندس برمجيات محترف">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-bio">نبذة عني:</label>
        <textarea id="edit-bio" rows="4">مهندس برمجيات محترف متخصص في تطوير التطبيقات والأنظمة البرمجية. أمتلك خبرة واسعة في تطوير الويب وتصميم الواجهات الأمامية والخلفية. شغفي بالبرمجة يدفعني لتعلم التقنيات الحديثة باستمرار وبناء حلول مبتكرة.</textarea>
    </div>
    
    <div class="edit-form-group">
        <label for="edit-country">البلد:</label>
        <input type="text" id="edit-country" value="العراق">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-city">المدينة:</label>
        <input type="text" id="edit-city" value="الكوت">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-image">رابط الصورة الشخصية:</label>
        <input type="text" id="edit-image" value="6610925486.png">
    </div>
    
    <div class="edit-form-actions">
        <button class="save-btn" id="save-changes"><i class="fas fa-save"></i> حفظ</button>
        <button class="cancel-btn" id="cancel-edit"><i class="fas fa-times"></i> إلغاء</button>
    </div>
</div>

<script>
// ========== نظام التحكم بالصلاحيات ==========
// قم بتعيين عنوان IP الخاص بك هنا (يمكنك الحصول عليه من whatismyip.com)
const ALLOWED_IPS = [
    "169.224.64.78", // استبدل هذا بعنوان IP الحقيقي لهاتفك
    "169.224.64.78" // مثال ل IP محلي
];

// أو استخدم عنوان IP ثابت للموقع إذا كان لديك
const SITE_IP = "169.224.64.78"; // استبدله بعنوان IP الحقيقي لموقعك

// ========== معلومات الزائر ==========
function getVisitorInfo() {
    const now = new Date();
    const visitTime = now.toLocaleString('ar-EG', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
    });
    
    document.getElementById('visit-time').textContent = visitTime;
    
    // معلومات المتصفح
    const userAgent = navigator.userAgent;
    let browser = "متصفح غير معروف";
    if (userAgent.includes("Firefox")) browser = "Firefox";
    else if (userAgent.includes("Chrome")) browser = "Chrome";
    else if (userAgent.includes("Safari")) browser = "Safari";
    else if (userAgent.includes("Edge")) browser = "Edge";
    
    document.getElementById('browser-info').textContent = browser;
    
    // معلومات نظام التشغيل
    let os = "نظام غير معروف";
    if (userAgent.includes("Windows")) os = "Windows";
    else if (userAgent.includes("Mac")) os = "Mac";
    else if (userAgent.includes("Linux")) os = "Linux";
    else if (userAgent.includes("Android")) os = "Android";
    else if (userAgent.includes("iOS")) os = "iOS";
    
    document.getElementById('os-info').textContent = os;
    
    // إخفاء شريط الترحيب بعد 10 ثواني
    setTimeout(() => {
        document.getElementById('welcome-banner').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('welcome-banner').style.display = 'none';
        }, 500);
    }, 10000);
}

// ========== التحقق من IP الزائر ==========
async function checkIP() {
    try {
        // في الواقع، لا يمكن الحصول على IP العميل من الجافاسكريبت مباشرة
        // لذا سنستخدم خدمة خارجية للحصول على IP
        const response = await fetch('https://api.ipify.org?format=json');
        const data = await response.json();
        const visitorIP = data.ip;
        
        console.log("IP الزائر:", visitorIP);
        
        // التحقق إذا كان IP الزائر مسموحًا به
        if (ALLOWED_IPS.includes(visitorIP) {
            document.getElementById('edit-toggle').style.display = 'flex';
            console.log("تم الكشف عن IP مدير - تفعيل وضع التعديل");
        } else {
            console.log("زائر عادي - إخفاء خيارات التعديل");
        }
        
        // إضافة IP الزائر إلى معلومات الزائر (اختياري)
        const ipInfo = document.createElement('div');
        ipInfo.innerHTML = `<i class="fas fa-network-wired"></i> عنوان IP: ${visitorIP}`;
        document.querySelector('.visitor-info').appendChild(ipInfo);
        
    } catch (error) {
        console.error("خطأ في الحصول على IP:", error);
        // في حالة الخطأ، يمكنك استخدام طرق بديلة للتحقق
        checkLocalAccess();
    }
}

// طريقة بديلة للتحقق من الوصول المحلي
function checkLocalAccess() {
    // إذا كان الموقع يعمل على localhost أو عنوان IP محلي
    if (window.location.hostname === "localhost" || 
        window.location.hostname === "127.0.0.1" ||
        window.location.hostname.startsWith("192.168.")) {
        document.getElementById('edit-toggle').style.display = 'flex';
        console.log("وصول محلي - تفعيل وضع التعديل");
    }
}

// ========== بقية الكود (الرسوم المتحركة، التعديل، إلخ) ==========
// Canvas Animation
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let isLightTheme = false;

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

const particles = [];
const particleCount = window.innerWidth < 600 ? 50 : 100;

class Particle {
    constructor() {
        this.reset();
        this.size = Math.random() * 3 + 1;
    }

    reset() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.velocityX = (Math.random() - 0.5) * 2;
        this.velocityY = (Math.random() - 0.5) * 2;
        this.color = this.getRandomColor();
        this.life = 0;
        this.maxLife = Math.random() * 300 + 100;
    }

    getRandomColor() {
        const colors = isLightTheme ? 
            ['#3a5bff', '#ff5b3a', '#5bff3a', '#ff3a5b', '#3aff5b'] :
            ['#4a6bff', '#ff6b4a', '#6bff4a', '#ff4a6b', '#4aff6b'];
        return colors[Math.floor(Math.random() * colors.length)];
    }

    update() {
        this.x += this.velocityX;
        this.y += this.velocityY;
        this.life++;

        if (this.life >= this.maxLife || 
            this.x < 0 || this.x > canvas.width || 
            this.y < 0 || this.y > canvas.height) {
            this.reset();
        }
    }

    draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
    }
}

for (let i = 0; i < particleCount; i++) {
    particles.push(new Particle());
}

function connect() {
    for (let i = 0; i < particles.length; i++) {
        for (let j = i + 1; j < particles.length; j++) {
            const dx = particles[i].x - particles[j].x;
            const dy = particles[i].y - particles[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < 120) {
                ctx.beginPath();
                ctx.strokeStyle = isLightTheme ? 
                    `rgba(58, 91, 255, ${1 - distance/120})` : 
                    `rgba(74, 107, 255, ${1 - distance/120})`;
                ctx.lineWidth = 0.8;
                ctx.moveTo(particles[i].x, particles[i].y);
                ctx.lineTo(particles[j].x, particles[j].y);
                ctx.stroke();
            }
        }
    }
}

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    particles.forEach(particle => {
        particle.update();
        particle.draw();
    });

    connect();
    requestAnimationFrame(animate);
}

animate();

// Theme Toggle
const themeToggle = document.getElementById('theme-toggle');
themeToggle.addEventListener('click', () => {
    isLightTheme = !isLightTheme;
    if (isLightTheme) {
        document.body.classList.add('light-theme');
        document.body.classList.remove('dark-theme');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i> تفعيل الوضع الليلي';
    } else {
        document.body.classList.remove('light-theme');
        document.body.classList.add('dark-theme');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i> تفعيل الوضع النهاري';
    }
    
    particles.forEach(p => p.color = p.getRandomColor());
});

// Edit Mode Toggle
let isEditMode = false;
const editToggle = document.getElementById('edit-toggle');
const editPanel = document.getElementById('edit-panel');
const closePanel = document.getElementById('close-panel');

editToggle.addEventListener('click', () => {
    isEditMode = !isEditMode;
    if (isEditMode) {
        document.body.classList.add('edit-mode');
        editToggle.innerHTML = '<i class="fas fa-times"></i> إغلاق وضع التعديل';
        editPanel.classList.add('open');
    } else {
        document.body.classList.remove('edit-mode');
        editToggle.innerHTML = '<i class="fas fa-edit"></i> وضع التعديل';
        editPanel.classList.remove('open');
    }
});

closePanel.addEventListener('click', () => {
    isEditMode = false;
    document.body.classList.remove('edit-mode');
    editToggle.innerHTML = '<i class="fas fa-edit"></i> وضع التعديل';
    editPanel.classList.remove('open');
});

// Save Changes
const saveChanges = document.getElementById('save-changes');
saveChanges.addEventListener('click', () => {
    const newName = document.getElementById('edit-name').value;
    const newTitle = document.getElementById('edit-title').value;
    const newBio = document.getElementById('edit-bio').value;
    const newCountry = document.getElementById('edit-country').value;
    const newCity = document.getElementById('edit-city').value;
    const newImage = document.getElementById('edit-image').value;
    
    document.getElementById('profile-name').textContent = newName;
    document.getElementById('profile-title').textContent = newTitle;
    document.getElementById('profile-bio').textContent = newBio;
    document.getElementById('info-name').textContent = newName;
    document.getElementById('info-country').textContent = newCountry;
    document.getElementById('info-city').textContent = newCity;
    document.getElementById('profile-image').src = newImage;
    
    showNotification('تم حفظ التغييرات بنجاح');
    
    isEditMode = false;
    document.body.classList.remove('edit-mode');
    editToggle.innerHTML = '<i class="fas fa-edit"></i> وضع التعديل';
    editPanel.classList.remove('open');
});

// Cancel Edit
const cancelEdit = document.getElementById('cancel-edit');
cancelEdit.addEventListener('click', () => {
    isEditMode = false;
    document.body.classList.remove('edit-mode');
    editToggle.innerHTML = '<i class="fas fa-edit"></i> وضع التعديل';
    editPanel.classList.remove('open');
});

// Editable fields
document.querySelectorAll('.editable').forEach(item => {
    item.addEventListener('click', function() {
        if (isEditMode) {
            const field = this.id || this.getAttribute('data-field');
            let currentValue = this.textContent;
            
            if (field === 'profile-name') currentValue = document.getElementById('edit-name').value;
            if (field === 'profile-title') currentValue = document.getElementById('edit-title').value;
            if (field === 'profile-bio') currentValue = document.getElementById('edit-bio').value;
            if (field === 'name') currentValue = document.getElementById('edit-name').value;
            if (field === 'country') currentValue = document.getElementById('edit-country').value;
            if (field === 'city') currentValue = document.getElementById('edit-city').value;
            
            const newValue = prompt('عدل القيمة:', currentValue);
            if (newValue !== null) {
                this.textContent = newValue;
                
                if (field === 'profile-name' || field === 'name') {
                    document.getElementById('edit-name').value = newValue;
                    document.getElementById('info-name').textContent = newValue;
                }
                if (field === 'profile-title') {
                    document.getElementById('edit-title').value = newValue;
                }
                if (field === 'profile-bio') {
                    document.getElementById('edit-bio').value = newValue;
                }
                if (field === 'country') {
                    document.getElementById('edit-country').value = newValue;
                }
                if (field === 'city') {
                    document.getElementById('edit-city').value = newValue;
                }
                
                showNotification('تم تحديث الحقل بنجاح');
            }
        }
    });
});

// Show notification
function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'card';
    notification.style.position = 'fixed';
    notification.style.bottom = '20px';
    notification.style.right = '20px';
    notification.style.zIndex = '1000';
    notification.style.padding = '15px';
    notification.style.backgroundColor = 'var(--edit-color)';
    notification.style.color = 'white';
    notification.style.borderRadius = '10px';
    notification.style.boxShadow = '0 4px 10px rgba(0,0,0,0.2)';
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transition = 'opacity 0.5s ease';
        setTimeout(() => notification.remove(), 500);
    }, 3000);
}

// Animate progress bars
const progressBars = document.querySelectorAll('.progress-bar');
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const width = entry.target.style.width;
            entry.target.style.width = '0';
            setTimeout(() => {
                entry.target.style.width = width;
            }, 100);
        }
    });
}, {threshold: 0.5});

progressBars.forEach(bar => observer.observe(bar));

// Initialize
window.onload = function() {
    getVisitorInfo();
    checkIP();
    
    // Add current year to footer
    const footer = document.createElement('div');
    footer.style.textAlign = 'center';
    footer.style.marginTop = '20px';
    footer.style.color = 'var(--text-color)';
    footer.style.opacity = '0.7';
    footer.innerHTML = `&copy; ${new Date().getFullYear()} - جميع الحقوق محفوظة - الإصدار 3.2`;
    document.querySelector('.container').appendChild(footer);
};
</script>
</body>
</html>
