<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>الملف الشخصي - الإصدار 10.1</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
<style>
:root {
    --bg-color: #1a1a1a;
    --text-color: #ffffff;
    --card-bg: #2d2d2d;
    --hover-color: #3d3d3d;
    --primary-color: #4a6bff;
    --secondary-color: #ff6b4a;
    --edit-color: #2ecc71;
    --welcome-color: #9b59b6;
    --secret-color: #f39c12;
    --islamic-color: #2b825b;
    --audio-color: #9b59b6;
    --ai-color: #3498db;
    --prayer-color: #e74c3c;
    --privacy-color: #e67e22;
}

body {
    background-color: var(--bg-color);
    color: var(--text-color);
    font-family: 'Tajawal', sans-serif;
    margin: 0;
    padding: 20px;
    transition: all 0.3s ease;
    position: relative;
    overflow-x: hidden;
}

#canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    opacity: 0.7;
}

.container {
    max-width: 600px;
    margin: 0 auto;
    text-align: right;
    position: relative;
    z-index: 1;
}

.header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
    position: relative;
}

.profile-image {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--primary-color);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease;
    cursor: pointer;
    position: relative;
}

.profile-image:hover {
    transform: scale(1.05);
}

.profile-image.secret-mode {
    border-color: var(--secret-color);
    animation: pulse 1.5s infinite;
}

.profile-title {
    margin: 0;
    color: var(--primary-color);
    font-size: 1.8rem;
}

.profile-subtitle {
    margin: 5px 0 0;
    color: var(--secondary-color);
    font-size: 1rem;
}

.card {
    background-color: var(--card-bg);
    padding: 20px;
    border-radius: 15px;
    margin: 15px 0;
    line-height: 1.6;
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: transform 0.3s ease;
    position: relative;
}

.card:hover {
    transform: translateY(-5px);
}

.card h2 {
    color: var(--primary-color);
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.4rem;
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 8px;
    display: inline-block;
}

.bio-text {
    margin: 0;
    line-height: 1.8;
}

.list-item {
    margin: 12px 0;
    font-size: 1rem;
    display: flex;
    align-items: center;
}

.list-item i {
    margin-left: 10px;
    color: var(--secondary-color);
    width: 25px;
    text-align: center;
}

.social-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
    margin: 20px 0;
}

.social-button {
    background-color: var(--card-bg);
    color: var(--text-color);
    padding: 12px;
    border-radius: 10px;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    backdrop-filter: blur(5px);
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-weight: 500;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.social-button:hover {
    background-color: var(--hover-color);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.social-button i {
    font-size: 1.2rem;
}

#theme-toggle, #edit-toggle {
    background-color: var(--primary-color);
    color: white;
    padding: 12px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    margin: 10px auto;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    transition: all 0.3s ease;
}

#theme-toggle:hover {
    background-color: var(--secondary-color);
    transform: translateY(-3px);
}

#edit-toggle {
    background-color: var(--edit-color);
    margin-top: 20px;
    display: none;
}

#edit-toggle:hover {
    background-color: #27ae60;
    transform: translateY(-3px);
}

.skills-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 15px;
}

.skill-tag {
    background-color: var(--primary-color);
    color: white;
    padding: 5px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
}

.progress-container {
    width: 100%;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    margin: 15px 0;
    height: 10px;
}

.progress-bar {
    height: 100%;
    border-radius: 10px;
    background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    width: 0;
    transition: width 1s ease;
}

.light-theme {
    --bg-color: #f5f7fa;
    --text-color: #333333;
    --card-bg: #ffffff;
    --hover-color: #f0f2f5;
    --primary-color: #3a5bff;
    --secondary-color: #ff5b3a;
    --edit-color: #27ae60;
    --welcome-color: #8e44ad;
    --secret-color: #e67e22;
    --islamic-color: #239b56;
    --audio-color: #8e44ad;
    --ai-color: #2980b9;
    --prayer-color: #c0392b;
    --privacy-color: #d35400;
}

.dark-theme {
    --bg-color: #1a1a1a;
    --text-color: #e0e0e0;
    --card-bg: #2d2d2d;
    --hover-color: #3d3d3d;
    --primary-color: #4a6bff;
    --secondary-color: #ff6b4a;
    --edit-color: #2ecc71;
    --welcome-color: #9b59b6;
    --secret-color: #f39c12;
    --islamic-color: #2b825b;
    --audio-color: #9b59b6;
    --ai-color: #3498db;
    --prayer-color: #e74c3c;
    --privacy-color: #e67e22;
}

.edit-mode .editable {
    border-bottom: 1px dashed var(--edit-color);
    padding-bottom: 2px;
    cursor: pointer;
}

.edit-panel {
    position: fixed;
    top: 0;
    right: -350px;
    width: 340px;
    height: 100vh;
    background-color: var(--card-bg);
    box-shadow: -5px 0 15px rgba(0, 0, 0, 0.2);
    padding: 20px;
    transition: right 0.3s ease;
    z-index: 1000;
    overflow-y: auto;
}

.edit-panel.open {
    right: 0;
}

.edit-panel h3 {
    color: var(--primary-color);
    margin-top: 0;
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 10px;
}

.edit-form-group {
    margin-bottom: 15px;
}

.edit-form-group label {
    display: block;
    margin-bottom: 5px;
    color: var(--text-color);
}

.edit-form-group input, 
.edit-form-group textarea, 
.edit-form-group select {
    width: 100%;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    background-color: var(--bg-color);
    color: var(--text-color);
}

.edit-form-actions {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.edit-form-actions button {
    flex: 1;
    padding: 10px;
    border-radius: 5px;
    border: none;
    cursor: pointer;
    font-weight: bold;
}

.save-btn {
    background-color: var(--edit-color);
    color: white;
}

.cancel-btn {
    background-color: var(--secondary-color);
    color: white;
}

.close-panel {
    position: absolute;
    top: 10px;
    left: 10px;
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.5rem;
    cursor: pointer;
}

.welcome-banner {
    background-color: var(--welcome-color);
    color: white;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    text-align: center;
    animation: fadeIn 1s ease;
}

.visitor-info {
    font-size: 0.9rem;
    margin-top: 10px;
    opacity: 0.8;
}

.visitor-info i {
    margin-left: 8px;
}

.admin-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    background-color: var(--edit-color);
    color: white;
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    gap: 5px;
}

.secret-hint {
    position: absolute;
    bottom: -25px;
    right: 0;
    font-size: 0.7rem;
    color: var(--secret-color);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.profile-image-container:hover .secret-hint {
    opacity: 1;
}

/* أنماط جديدة للإصدار 10.1 */
.audio-player {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background-color: var(--card-bg);
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 1000;
    width: 300px;
    transition: all 0.3s ease;
}

.audio-player.collapsed {
    width: 50px;
    height: 50px;
    overflow: hidden;
}

.audio-player.collapsed .player-controls,
.audio-player.collapsed .playlist {
    display: none;
}

.player-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.player-title {
    color: var(--audio-color);
    margin: 0;
    font-size: 1.1rem;
}

.toggle-player {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.2rem;
    cursor: pointer;
}

.player-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 10px 0;
}

.control-button {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.control-button:hover {
    color: var(--audio-color);
    transform: scale(1.1);
}

.playlist {
    max-height: 200px;
    overflow-y: auto;
    margin-top: 10px;
}

.playlist-item {
    padding: 8px;
    border-radius: 5px;
    margin: 5px 0;
    cursor: pointer;
    transition: all 0.2s ease;
}

.playlist-item:hover {
    background-color: var(--hover-color);
}

.playlist-item.active {
    background-color: var(--audio-color);
    color: white;
}

.progress-container-audio {
    width: 100%;
    height: 5px;
    background-color: rgba(255,255,255,0.1);
    border-radius: 5px;
    margin: 10px 0;
    cursor: pointer;
}

.progress-bar-audio {
    height: 100%;
    border-radius: 5px;
    background-color: var(--audio-color);
    width: 0%;
}

.time-display {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
    color: rgba(255,255,255,0.7);
}

.volume-control {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 10px;
}

.volume-slider {
    flex-grow: 1;
    cursor: pointer;
}

.ai-assistant {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    background-color: var(--ai-color);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 1000;
    transition: all 0.3s ease;
}

.ai-assistant i {
    font-size: 1.8rem;
    color: white;
}

.ai-chat {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 350px;
    max-height: 500px;
    background-color: var(--card-bg);
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 1000;
    display: none;
    flex-direction: column;
    overflow: hidden;
}

.ai-chat.open {
    display: flex;
}

.chat-header {
    background-color: var(--ai-color);
    color: white;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chat-title {
    margin: 0;
    font-size: 1.2rem;
}

.close-chat {
    background: none;
    border: none;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
}

.chat-messages {
    flex-grow: 1;
    padding: 15px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.message {
    padding: 10px 15px;
    border-radius: 15px;
    max-width: 80%;
    word-wrap: break-word;
}

.user-message {
    align-self: flex-end;
    background-color: var(--primary-color);
    color: white;
    border-bottom-right-radius: 5px;
}

.ai-message {
    align-self: flex-start;
    background-color: var(--hover-color);
    border-bottom-left-radius: 5px;
}

.chat-input {
    display: flex;
    padding: 10px;
    background-color: var(--hover-color);
}

.chat-input input {
    flex-grow: 1;
    padding: 10px;
    border: none;
    border-radius: 20px;
    background-color: var(--bg-color);
    color: var(--text-color);
}

.send-button {
    background-color: var(--ai-color);
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    margin-right: 10px;
    cursor: pointer;
}

.prayer-times {
    background-color: var(--prayer-color);
    color: white;
    padding: 10px;
    border-radius: 10px;
    margin: 10px 0;
    text-align: center;
}

.prayer-times h3 {
    margin-top: 0;
    border-bottom: 1px solid rgba(255,255,255,0.3);
    padding-bottom: 8px;
}

.prayer-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
    margin-top: 10px;
}

.prayer-item {
    background-color: rgba(0,0,0,0.2);
    padding: 8px;
    border-radius: 5px;
}

.prayer-name {
    font-weight: bold;
}

.prayer-time {
    font-size: 0.9rem;
}

.quran-ayah {
    background-color: var(--islamic-color);
    color: white;
    padding: 15px;
    border-radius: 10px;
    margin: 15px 0;
    text-align: center;
    font-family: 'Traditional Arabic', Arial, sans-serif;
    font-size: 1.2rem;
    line-height: 1.8;
}

.quran-ayah .surah-name {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-top: 10px;
}

.swiper {
    width: 100%;
    height: 200px;
    border-radius: 10px;
    overflow: hidden;
    margin: 15px 0;
}

.swiper-slide {
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 1.5rem;
    font-weight: bold;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
}

.swiper-button-next, .swiper-button-prev {
    color: white !important;
}

.swiper-pagination-bullet {
    background: white !important;
}

.hover-sound {
    transition: all 0.2s ease;
}

.hover-sound:hover {
    transform: scale(1.05);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.click-sound:active {
    transform: scale(0.95);
}

.notification-bell {
    position: fixed;
    top: 20px;
    left: 20px;
    background-color: var(--secondary-color);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 1000;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.notification-bell i {
    font-size: 1.5rem;
    color: white;
}

.notification-panel {
    position: fixed;
    top: 80px;
    left: 20px;
    width: 300px;
    max-height: 400px;
    background-color: var(--card-bg);
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    z-index: 1000;
    padding: 15px;
    display: none;
    overflow-y: auto;
}

.notification-panel.open {
    display: block;
}

.notification-item {
    padding: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    margin-bottom: 10px;
}

.notification-item:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.notification-time {
    font-size: 0.7rem;
    opacity: 0.7;
    margin-top: 5px;
}

.achievements {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 15px;
}

.achievement-badge {
    background-color: var(--primary-color);
    color: white;
    padding: 8px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    gap: 5px;
}

.achievement-badge i {
    font-size: 0.9rem;
}

.dark-mode-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
}

.dark-mode-btn {
    background-color: var(--primary-color);
    color: white;
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    font-size: 1.2rem;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
}

.dark-mode-btn:hover {
    transform: rotate(30deg);
}

.privacy-info {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: var(--card-bg);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    z-index: 2000;
    max-width: 90%;
    width: 400px;
    display: none;
    border: 2px solid var(--privacy-color);
}

.privacy-info.open {
    display: block;
    animation: fadeIn 0.3s ease;
}

.privacy-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    border-bottom: 1px solid var(--privacy-color);
    padding-bottom: 10px;
}

.privacy-title {
    color: var(--privacy-color);
    margin: 0;
    font-size: 1.3rem;
}

.close-privacy {
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 1.5rem;
    cursor: pointer;
}

.privacy-content {
    max-height: 60vh;
    overflow-y: auto;
    padding-right: 10px;
}

.privacy-item {
    margin-bottom: 15px;
}

.privacy-label {
    font-weight: bold;
    color: var(--privacy-color);
    margin-bottom: 5px;
    display: block;
}

.privacy-value {
    background-color: rgba(0,0,0,0.2);
    padding: 8px;
    border-radius: 5px;
    word-break: break-all;
}

.privacy-warning {
    color: var(--secondary-color);
    font-size: 0.9rem;
    margin-top: 15px;
    text-align: center;
}

.edit-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    z-index: 999;
    display: none;
}

.edit-overlay.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(243, 156, 18, 0.7); }
    70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(243, 156, 18, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(243, 156, 18, 0); }
}

@keyframes slideIn {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@media (max-width: 768px) {
    .container {
        padding: 10px;
    }
    
    .header {
        flex-direction: column;
        text-align: center;
    }
    
    .social-links {
        grid-template-columns: 1fr 1fr;
    }
    
    .audio-player {
        width: calc(100% - 40px);
        left: 20px;
        right: 20px;
    }
    
    .ai-chat {
        width: calc(100% - 40px);
        right: 20px;
    }
    
    .notification-panel {
        width: calc(100% - 40px);
        left: 20px;
    }
    
    .privacy-info {
        width: calc(100% - 40px);
    }
}

@media (max-width: 480px) {
    .social-links {
        grid-template-columns: 1fr;
    }
    
    .prayer-grid {
        grid-template-columns: 1fr 1fr;
    }
    
    .edit-panel {
        width: 280px;
    }
}
</style>
</head>
<body>
<canvas id="canvas"></canvas>

<!-- طبقة التعتيم لوضع التعديل -->
<div class="edit-overlay" id="edit-overlay"></div>

<!-- نافذة معلومات الخصوصية -->
<div class="privacy-info" id="privacy-info">
    <div class="privacy-header">
        <h3 class="privacy-title"><i class="fas fa-user-shield"></i> معلومات الخصوصية</h3>
        <button class="close-privacy" id="close-privacy">&times;</button>
    </div>
    <div class="privacy-content" id="privacy-content">
        <div class="privacy-item">
            <span class="privacy-label"><i class="fas fa-network-wired"></i> عنوان IP</span>
            <div class="privacy-value" id="privacy-ip">جاري التحميل...</div>
        </div>
        <div class="privacy-item">
            <span class="privacy-label"><i class="fas fa-globe"></i> الموقع الجغرافي</span>
            <div class="privacy-value" id="privacy-location">جاري التحميل...</div>
        </div>
        <div class="privacy-item">
            <span class="privacy-label"><i class="fas fa-desktop"></i> معلومات الجهاز</span>
            <div class="privacy-value" id="privacy-device">جاري التحميل...</div>
        </div>
        <div class="privacy-item">
            <span class="privacy-label"><i class="fas fa-window-maximize"></i> المتصفح</span>
            <div class="privacy-value" id="privacy-browser">جاري التحميل...</div>
        </div>
        <div class="privacy-item">
            <span class="privacy-label"><i class="fas fa-mobile-alt"></i> نظام التشغيل</span>
            <div class="privacy-value" id="privacy-os">جاري التحميل...</div>
        </div>
        <div class="privacy-item">
            <span class="privacy-label"><i class="fas fa-expand"></i> دقة الشاشة</span>
            <div class="privacy-value" id="privacy-resolution">جاري التحميل...</div>
        </div>
        <div class="privacy-warning">
            <i class="fas fa-exclamation-triangle"></i> هذه المعلومات تستخدم لأغراض تقنية فقط ولا يتم تخزينها
        </div>
    </div>
</div>

<!-- إشعارات -->
<div class="notification-bell" id="notification-bell">
    <i class="fas fa-bell"></i>
    <span class="notification-count" id="notification-count" style="display:none;"></span>
</div>

<div class="notification-panel" id="notification-panel">
    <h3 style="margin-top:0;color:var(--secondary-color);border-bottom:1px solid rgba(255,255,255,0.1);padding-bottom:10px;">
        <i class="fas fa-bell"></i> الإشعارات
    </h3>
    <div id="notifications-container">
        <div class="notification-item">
            <div>مرحباً بك في الملف الشخصي الجديد!</div>
            <div class="notification-time">الآن</div>
        </div>
    </div>
</div>

<!-- تبديل الوضع الليلي -->
<div class="dark-mode-toggle">
    <button class="dark-mode-btn" id="dark-mode-btn">
        <i class="fas fa-moon"></i>
    </button>
</div>

<!-- المساعد الذكي -->
<div class="ai-assistant" id="ai-assistant">
    <i class="fas fa-robot"></i>
</div>

<div class="ai-chat" id="ai-chat">
    <div class="chat-header">
        <h3 class="chat-title"><i class="fas fa-robot"></i> المساعد الذكي</h3>
        <button class="close-chat" id="close-chat"><i class="fas fa-times"></i></button>
    </div>
    
    <div class="chat-messages" id="chat-messages">
        <div class="message ai-message">
            السلام عليكم ورحمة الله وبركاته، كيف يمكنني مساعدتك اليوم؟
        </div>
    </div>
    
    <div class="chat-input">
        <input type="text" id="user-input" placeholder="اكتب رسالتك هنا...">
        <button class="send-button" id="send-button"><i class="fas fa-paper-plane"></i></button>
    </div>
</div>

<!-- المحتوى الرئيسي -->
<div class="container">
    <!-- شريط الترحيب -->
    <div class="welcome-banner" id="welcome-banner">
        <h3><i class="fas fa-hand-wave"></i> مرحبًا بك في ملفي الشخصي!</h3>
        <div class="visitor-info">
            <div><i class="fas fa-clock"></i> وقت الزيارة: <span id="visit-time"></span></div>
            <div><i class="fas fa-globe"></i> المتصفح: <span id="browser-info"></span></div>
            <div><i class="fas fa-desktop"></i> نظام التشغيل: <span id="os-info"></span></div>
        </div>
    </div>

    <div class="header">
        <div class="profile-image-container" style="position:relative">
            <img src="6610925486.png" alt="صورة الملف الشخصي" class="profile-image hover-sound" id="profile-image">
            <div class="secret-hint">(النقر 3 مرات لتفعيل وضع التعديل)</div>
        </div>
        <div>
            <h1 class="profile-title editable" id="profile-name">أحمد</h1>
            <p class="profile-subtitle editable" id="profile-title">مهندس برمجيات محترف</p>
        </div>
    </div>
    
    <div class="card bio">
        <h2><i class="fas fa-user"></i> نبذة عني</h2>
        <p class="bio-text editable" id="profile-bio">
            مهندس برمجيات محترف متخصص في تطوير التطبيقات والأنظمة البرمجية. أمتلك خبرة واسعة في تطوير الويب وتصميم الواجهات الأمامية والخلفية. شغفي بالبرمجة يدفعني لتعلم التقنيات الحديثة باستمرار وبناء حلول مبتكرة.
        </p>
    </div>
    
    <div class="card info">
        <h2><i class="fas fa-info-circle"></i> المعلومات الشخصية</h2>
        <div class="list-item"><i class="fas fa-signature"></i> <span class="editable" data-field="name">الاسم:</span> <span class="editable" id="info-name">أحمد</span></div>
        <div class="list-item"><i class="fas fa-globe"></i> <span class="editable" data-field="country">البلد:</span> <span class="editable" id="info-country">العراق</span></div>
        <div class="list-item"><i class="fas fa-city"></i> <span class="editable" data-field="city">المدينة:</span> <span class="editable" id="info-city">الكوت</span></div>
        <div class="list-item"><i class="fas fa-at"></i> <span class="editable" data-field="username">اسم المستخدم:</span> <span class="editable" id="info-username">@A_A_T_T</span></div>
        <div class="list-item"><i class="fas fa-heart"></i> <span class="editable" data-field="hobby">الهوايات:</span> <span class="editable" id="info-hobby">البرمجة، القراءة</span></div>
        <div class="list-item"><i class="fas fa-ring"></i> <span class="editable" data-field="status">الحالة الاجتماعية:</span> <span class="editable" id="info-status">متزوج</span></div>
        <div class="list-item"><i class="fas fa-birthday-cake"></i> <span class="editable" data-field="birthday">تاريخ الميلاد:</span> <span class="editable" id="info-birthday">12 مايو</span></div>
    </div>
    
    <div class="card skills">
        <h2><i class="fas fa-code"></i> المهارات التقنية</h2>
        <div class="skills-container" id="skills-container">
            <span class="skill-tag">Python</span>
            <span class="skill-tag">JavaScript</span>
            <span class="skill-tag">React.js</span>
            <span class="skill-tag">Node.js</span>
            <span class="skill-tag">HTML/CSS</span>
            <span class="skill-tag">SQL</span>
            <span class="skill-tag">Git</span>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" style="width: 90%"></div>
        </div>
        <div class="list-item">تطوير الويب - 90%</div>
        
        <div class="progress-container">
            <div class="progress-bar" style="width: 85%"></div>
        </div>
        <div class="list-item">برمجة بايثون - 85%</div>
        
        <div class="progress-container">
            <div class="progress-bar" style="width: 80%"></div>
        </div>
        <div class="list-item">تطوير التطبيقات - 80%</div>
    </div>
    
    <div class="card achievements">
        <h2><i class="fas fa-trophy"></i> الإنجازات</h2>
        <div class="achievements">
            <span class="achievement-badge"><i class="fas fa-medal"></i> أفضل مشروع تقني</span>
            <span class="achievement-badge"><i class="fas fa-award"></i> مطور الشهر</span>
            <span class="achievement-badge"><i class="fas fa-star"></i> 5 نجوم في التقييم</span>
            <span class="achievement-badge"><i class="fas fa-code"></i> 100 مشروع مكتمل</span>
        </div>
    </div>
    
    <div class="social-links">
        <a href="https://www.tiktok.com/@_5udw" class="social-button hover-sound click-sound" id="tiktok-link">
            <i class="fab fa-tiktok"></i> تيك توك
        </a>
        <a href="https://t.me/A_A_T_T" class="social-button hover-sound click-sound" id="telegram-link">
            <i class="fab fa-telegram"></i> تلغرام
        </a>
        <a href="https://t.me/A_A_T_T1" class="social-button hover-sound click-sound" id="telegram-channel">
            <i class="fab fa-telegram-plane"></i> قناة تلغرام
        </a>
        <a href="mailto:example@example.com" class="social-button hover-sound click-sound" id="email-link">
            <i class="fas fa-envelope"></i> البريد
        </a>
    </div>
    
    <button id="theme-toggle" class="hover-sound click-sound">
        <i class="fas fa-moon"></i> تغيير السمة
    </button>
    
    <button id="edit-toggle" class="hover-sound click-sound">
        <i class="fas fa-edit"></i> وضع التعديل
    </button>
</div>

<div class="edit-panel" id="edit-panel">
    <button class="close-panel" id="close-panel">&times;</button>
    <h3><i class="fas fa-edit"></i> تعديل الملف الشخصي</h3>
    
    <div class="edit-form-group">
        <label for="edit-name">الاسم:</label>
        <input type="text" id="edit-name" value="أحمد">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-title">المسمى الوظيفي:</label>
        <input type="text" id="edit-title" value="مهندس برمجيات محترف">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-bio">نبذة عني:</label>
        <textarea id="edit-bio" rows="4">مهندس برمجيات محترف متخصص في تطوير التطبيقات والأنظمة البرمجية. أمتلك خبرة واسعة في تطوير الويب وتصميم الواجهات الأمامية والخلفية. شغفي بالبرمجة يدفعني لتعلم التقنيات الحديثة باستمرار وبناء حلول مبتكرة.</textarea>
    </div>
    
    <div class="edit-form-group">
        <label for="edit-country">البلد:</label>
        <input type="text" id="edit-country" value="العراق">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-city">المدينة:</label>
        <input type="text" id="edit-city" value="الكوت">
    </div>
    
    <div class="edit-form-group">
        <label for="edit-image">رابط الصورة الشخصية:</label>
        <input type="text" id="edit-image" value="6610925486.png">
    </div>
    
    <div class="edit-form-actions">
        <button class="save-btn hover-sound click-sound" id="save-changes"><i class="fas fa-save"></i> حفظ</button>
        <button class="cancel-btn hover-sound click-sound" id="cancel-edit"><i class="fas fa-times"></i> إلغاء</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script>
// ========== تهيئة Swiper للمعرض ==========
const swiper = new Swiper('.swiper', {
    loop: true,
    autoplay: {
        delay: 3000,
        disableOnInteraction: false,
    },
    pagination: {
        el: '.swiper-pagination',
        clickable: true,
    },
    navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
    },
});

// ========== المساعد الذكي ==========
const aiAssistant = document.getElementById('ai-assistant');
const aiChat = document.getElementById('ai-chat');
const closeChat = document.getElementById('close-chat');
const chatMessages = document.getElementById('chat-messages');
const userInput = document.getElementById('user-input');
const sendButton = document.getElementById('send-button');

// فتح/إغلاق الدردشة
aiAssistant.addEventListener('click', () => {
    aiChat.classList.toggle('open');
});

closeChat.addEventListener('click', () => {
    aiChat.classList.remove('open');
});

// إرسال رسالة
function sendMessage() {
    const message = userInput.value.trim();
    if (message === '') return;
    
    // إضافة رسالة المستخدم
    addMessage(message, 'user');
    userInput.value = '';
    
    // معالجة الرسالة وإضافة رد
    setTimeout(() => {
        const response = getAIResponse(message);
        addMessage(response, 'ai');
        
        // التمرير إلى الأسفل
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }, 500);
}

// إضافة رسالة إلى الدردشة
function addMessage(text, sender) {
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('message');
    messageDiv.classList.add(sender === 'user' ? 'user-message' : 'ai-message');
    messageDiv.textContent = text;
    
    // تأثير ظهور الرسالة
    messageDiv.style.opacity = '0';
    messageDiv.style.transform = 'translateY(10px)';
    messageDiv.style.transition = 'all 0.3s ease';
    
    chatMessages.appendChild(messageDiv);
    
    setTimeout(() => {
        messageDiv.style.opacity = '1';
        messageDiv.style.transform = 'translateY(0)';
    }, 10);
    
    // التمرير إلى الأسفل
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

// توليد ردود المساعد
function getAIResponse(message) {
    const lowerMessage = message.toLowerCase();
    
    if (lowerMessage.includes('مرحبا') || lowerMessage.includes('السلام')) {
        return 'وعليكم السلام ورحمة الله وبركاته! كيف يمكنني مساعدتك اليوم؟';
    } else if (lowerMessage.includes('اسمك') || lowerMessage.includes('من أنت')) {
        return 'أنا المساعد الذكي لملف أحمد الشخصي. يمكنني الإجابة على أسئلتك حول مهاراته وخبراته.';
    } else if (lowerMessage.includes('مهارات') || lowerMessage.includes('خبرات')) {
        return 'أحمد لديه خبرة في: Python, JavaScript, React, Node.js, HTML/CSS, SQL, Git. كما لديه خبرة في تطوير الويب بنسبة 90%، وبرمجة بايثون بنسبة 85%، وتطوير التطبيقات بنسبة 80%.';
    } else if (lowerMessage.includes('اتصال') || lowerMessage.includes('تواصل')) {
        return 'يمكنك التواصل مع أحمد عبر: تيك توك، تلغرام، قناة تلغرام، أو البريد الإلكتروني. الروابط متاحة في صفحته.';
    } else if (lowerMessage.includes('شكرا') || lowerMessage.includes('متشكر')) {
        return 'العفو! لا تتردد في سؤالي عن أي شيء آخر.';
    } else if (lowerMessage.includes('إعدادات') || lowerMessage.includes('settings') || lowerMessage.includes('خصوصية') || lowerMessage.includes('privacy')) {
        showPrivacyInfo();
        return 'لقد قمت بفتح نافذة معلومات الخصوصية. يمكنك رؤية معلومات جهازك واتصالك هناك.';
    } else {
        return 'آسف، لم أفهم سؤالك. يمكنك أن تسأل عن مهارات أحمد، خبراته، كيفية التواصل معه، أو كتابة "إعدادات" لرؤية معلومات الخصوصية.';
    }
}

// أحداث إرسال الرسالة
sendButton.addEventListener('click', sendMessage);
userInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        sendMessage();
    }
});

// ========== نظام التعديل السري ==========
let clickCount = 0;
let lastClickTime = 0;
const PROFILE_IMAGE = document.getElementById('profile-image');
const EDIT_TOGGLE = document.getElementById('edit-toggle');
const EDIT_OVERLAY = document.getElementById('edit-overlay');

PROFILE_IMAGE.addEventListener('click', (e) => {
    const currentTime = new Date().getTime();
    
    if (currentTime - lastClickTime < 500) {
        clickCount++;
    } else {
        clickCount = 1;
    }
    
    lastClickTime = currentTime;
    
    if (clickCount >= 3) {
        activateEditMode();
        clickCount = 0;
    }
});

function activateEditMode() {
    PROFILE_IMAGE.classList.add('secret-mode');
    EDIT_TOGGLE.style.display = 'flex';
    showNotification('تم تفعيل وضع التعديل السري!', 'var(--secret-color)');
    
    setTimeout(() => {
        PROFILE_IMAGE.classList.remove('secret-mode');
    }, 3000);
}

// ========== معلومات الزائر ==========
function getVisitorInfo() {
    const now = new Date();
    const visitTime = now.toLocaleString('ar-EG', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
    });
    
    document.getElementById('visit-time').textContent = visitTime;
    
    const userAgent = navigator.userAgent;
    let browser = "متصفح غير معروف";
    if (userAgent.includes("Firefox")) browser = "Firefox";
    else if (userAgent.includes("Chrome")) browser = "Chrome";
    else if (userAgent.includes("Safari")) browser = "Safari";
    else if (userAgent.includes("Edge")) browser = "Edge";
    
    document.getElementById('browser-info').textContent = browser;
    
    let os = "نظام غير معروف";
    if (userAgent.includes("Windows")) os = "Windows";
    else if (userAgent.includes("Mac")) os = "Mac";
    else if (userAgent.includes("Linux")) os = "Linux";
    else if (userAgent.includes("Android")) os = "Android";
    else if (userAgent.includes("iOS")) os = "iOS";
    
    document.getElementById('os-info').textContent = os;
    
    setTimeout(() => {
        document.getElementById('welcome-banner').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('welcome-banner').style.display = 'none';
        }, 500);
    }, 10000);
}

// ========== معلومات الخصوصية ==========
const privacyInfo = document.getElementById('privacy-info');
const closePrivacy = document.getElementById('close-privacy');

function showPrivacyInfo() {
    privacyInfo.classList.add('open');
    
    // جلب معلومات IP والموقع
    fetch('https://ipapi.co/json/')
        .then(response => response.json())
        .then(data => {
            document.getElementById('privacy-ip').textContent = data.ip || 'غير معروف';
            const location = `${data.city || 'غير معروف'}, ${data.country_name || 'غير معروف'}`;
            document.getElementById('privacy-location').textContent = location;
        })
        .catch(() => {
            document.getElementById('privacy-ip').textContent = 'غير متاح';
            document.getElementById('privacy-location').textContent = 'غير متاح';
        });
    
    // معلومات الجهاز والمتصفح
    const userAgent = navigator.userAgent;
    document.getElementById('privacy-browser').textContent = detectBrowser();
    document.getElementById('privacy-os').textContent = detectOS();
    document.getElementById('privacy-resolution').textContent = `${window.screen.width}x${window.screen.height}`;
    
    // معلومات الجهاز
    let deviceInfo = 'كمبيوتر';
    if (/Mobi|Android|iPhone|iPad|iPod/i.test(userAgent)) {
        deviceInfo = 'هاتف محمول';
        if (/Tablet|iPad/i.test(userAgent)) {
            deviceInfo = 'جهاز لوحي';
        }
    }
    document.getElementById('privacy-device').textContent = deviceInfo;
}

closePrivacy.addEventListener('click', () => {
    privacyInfo.classList.remove('open');
});

// كشف المتصفح
function detectBrowser() {
    const userAgent = navigator.userAgent;
    if (userAgent.includes("Firefox")) return "Mozilla Firefox";
    if (userAgent.includes("Chrome")) return "Google Chrome";
    if (userAgent.includes("Safari")) return "Apple Safari";
    if (userAgent.includes("Edge")) return "Microsoft Edge";
    if (userAgent.includes("Opera") || userAgent.includes("OPR")) return "Opera";
    return "متصفح غير معروف";
}

// كشف نظام التشغيل
function detectOS() {
    const userAgent = navigator.userAgent;
    if (userAgent.includes("Windows")) return "Windows";
    if (userAgent.includes("Mac")) return "macOS";
    if (userAgent.includes("Linux")) return "Linux";
    if (userAgent.includes("Android")) return "Android";
    if (userAgent.includes("iOS")) return "iOS";
    return "نظام غير معروف";
}

// ========== الخلفية المتحركة ==========
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let isLightTheme = false;

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

const particles = [];
const particleCount = window.innerWidth < 600 ? 50 : 100;

class Particle {
    constructor() {
        this.reset();
        this.size = Math.random() * 3 + 1;
    }

    reset() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.velocityX = (Math.random() - 0.5) * 2;
        this.velocityY = (Math.random() - 0.5) * 2;
        this.color = this.getRandomColor();
        this.life = 0;
        this.maxLife = Math.random() * 300 + 100;
    }

    getRandomColor() {
        const colors = isLightTheme ? 
            ['#3a5bff', '#ff5b3a', '#5bff3a', '#ff3a5b', '#3aff5b'] :
            ['#4a6bff', '#ff6b4a', '#6bff4a', '#ff4a6b', '#4aff6b'];
        return colors[Math.floor(Math.random() * colors.length)];
    }

    update() {
        this.x += this.velocityX;
        this.y += this.velocityY;
        this.life++;

        if (this.life >= this.maxLife || 
            this.x < 0 || this.x > canvas.width || 
            this.y < 0 || this.y > canvas.height) {
            this.reset();
        }
    }

    draw() {
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
    }
}

for (let i = 0; i < particleCount; i++) {
    particles.push(new Particle());
}

function connectParticles() {
    for (let i = 0; i < particles.length; i++) {
        for (let j = i + 1; j < particles.length; j++) {
            const dx = particles[i].x - particles[j].x;
            const dy = particles[i].y - particles[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < 120) {
                ctx.beginPath();
                ctx.strokeStyle = isLightTheme ? 
                    `rgba(58, 91, 255, ${1 - distance/120})` : 
                    `rgba(74, 107, 255, ${1 - distance/120})`;
                ctx.lineWidth = 0.8;
                ctx.moveTo(particles[i].x, particles[i].y);
                ctx.lineTo(particles[j].x, particles[j].y);
                ctx.stroke();
            }
        }
    }
}

function animateBackground() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    particles.forEach(particle => {
        particle.update();
        particle.draw();
    });

    connectParticles();
    requestAnimationFrame(animateBackground);
}

// ========== نظام التعديل ==========
let isEditMode = false;
const editToggle = document.getElementById('edit-toggle');
const editPanel = document.getElementById('edit-panel');
const closePanel = document.getElementById('close-panel');

editToggle.addEventListener('click', () => {
    isEditMode = !isEditMode;
    if (isEditMode) {
        document.body.classList.add('edit-mode');
        editToggle.innerHTML = '<i class="fas fa-times"></i> إغلاق وضع التعديل';
        editPanel.classList.add('open');
        EDIT_OVERLAY.classList.add('active');
    } else {
        closeEditPanel();
    }
});

// إغلاق لوحة التعديل عند النقر خارجها
EDIT_OVERLAY.addEventListener('click', closeEditPanel);
closePanel.addEventListener('click', closeEditPanel);

function closeEditPanel() {
    isEditMode = false;
    document.body.classList.remove('edit-mode');
    editToggle.innerHTML = '<i class="fas fa-edit"></i> وضع التعديل';
    editPanel.classList.remove('open');
    EDIT_OVERLAY.classList.remove('active');
}

// حفظ التغييرات
const saveChanges = document.getElementById('save-changes');
saveChanges.addEventListener('click', () => {
    const newName = document.getElementById('edit-name').value;
    const newTitle = document.getElementById('edit-title').value;
    const newBio = document.getElementById('edit-bio').value;
    const newCountry = document.getElementById('edit-country').value;
    const newCity = document.getElementById('edit-city').value;
    const newImage = document.getElementById('edit-image').value;
    
    document.getElementById('profile-name').textContent = newName;
    document.getElementById('profile-title').textContent = newTitle;
    document.getElementById('profile-bio').textContent = newBio;
    document.getElementById('info-name').textContent = newName;
    document.getElementById('info-country').textContent = newCountry;
    document.getElementById('info-city').textContent = newCity;
    document.getElementById('profile-image').src = newImage;
    
    showNotification('تم حفظ التغييرات بنجاح');
    closeEditPanel();
});

// إلغاء التعديل
const cancelEdit = document.getElementById('cancel-edit');
cancelEdit.addEventListener('click', closeEditPanel);

// حقول قابلة للتعديل
document.querySelectorAll('.editable').forEach(item => {
    item.addEventListener('click', function() {
        if (isEditMode) {
            const field = this.id || this.getAttribute('data-field');
            let currentValue = this.textContent;
            
            if (field === 'profile-name') currentValue = document.getElementById('edit-name').value;
            if (field === 'profile-title') currentValue = document.getElementById('edit-title').value;
            if (field === 'profile-bio') currentValue = document.getElementById('edit-bio').value;
            if (field === 'name') currentValue = document.getElementById('edit-name').value;
            if (field === 'country') currentValue = document.getElementById('edit-country').value;
            if (field === 'city') currentValue = document.getElementById('edit-city').value;
            
            const newValue = prompt('عدل القيمة:', currentValue);
            if (newValue !== null) {
                this.textContent = newValue;
                
                if (field === 'profile-name' || field === 'name') {
                    document.getElementById('edit-name').value = newValue;
                    document.getElementById('info-name').textContent = newValue;
                }
                if (field === 'profile-title') {
                    document.getElementById('edit-title').value = newValue;
                }
                if (field === 'profile-bio') {
                    document.getElementById('edit-bio').value = newValue;
                }
                if (field === 'country') {
                    document.getElementById('edit-country').value = newValue;
                }
                if (field === 'city') {
                    document.getElementById('edit-city').value = newValue;
                }
                
                showNotification('تم تحديث الحقل بنجاح');
            }
        }
    });
});

// ========== نظام الإشعارات ==========
const notificationBell = document.getElementById('notification-bell');
const notificationPanel = document.getElementById('notification-panel');
const notificationCount = document.getElementById('notification-count');
const notificationsContainer = document.getElementById('notifications-container');

notificationBell.addEventListener('click', () => {
    notificationPanel.classList.toggle('open');
    notificationCount.style.display = 'none';
});

// إضافة إشعار جديد
function addNotification(text, bgColor = 'var(--edit-color)') {
    const now = new Date();
    const timeString = now.toLocaleTimeString('ar-EG', {hour: '2-digit', minute:'2-digit'});
    
    const notificationItem = document.createElement('div');
    notificationItem.className = 'notification-item';
    notificationItem.innerHTML = `
        <div>${text}</div>
        <div class="notification-time">${timeString}</div>
    `;
    
    notificationsContainer.insertBefore(notificationItem, notificationsContainer.firstChild);
    
    // تحديث عدد الإشعارات
    const count = parseInt(notificationCount.textContent) || 0;
    notificationCount.textContent = count + 1;
    notificationCount.style.display = 'inline-block';
    
    // تأثير ظهور الإشعار
    notificationItem.style.animation = 'slideIn 0.3s ease';
}

// ========== تبديل السمة ==========
const themeToggle = document.getElementById('theme-toggle');
const darkModeBtn = document.getElementById('dark-mode-btn');

function toggleTheme() {
    isLightTheme = !isLightTheme;
    if (isLightTheme) {
        document.body.classList.add('light-theme');
        document.body.classList.remove('dark-theme');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i> تفعيل الوضع الليلي';
        darkModeBtn.innerHTML = '<i class="fas fa-moon"></i>';
    } else {
        document.body.classList.remove('light-theme');
        document.body.classList.add('dark-theme');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i> تفعيل الوضع النهاري';
        darkModeBtn.innerHTML = '<i class="fas fa-sun"></i>';
    }
    
    particles.forEach(p => p.color = p.getRandomColor());
    
    // حفظ التفضيل
    localStorage.setItem('theme', isLightTheme ? 'light' : 'dark');
}

themeToggle.addEventListener('click', toggleTheme);
darkModeBtn.addEventListener('click', toggleTheme);

// ========== تأثيرات الصوت ==========
const hoverSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-hover-click-notification-358.mp3');
const clickSound = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3');

document.querySelectorAll('.hover-sound').forEach(element => {
    element.addEventListener('mouseenter', () => {
        hoverSound.currentTime = 0;
        hoverSound.volume = 0.3;
        hoverSound.play();
    });
});

document.querySelectorAll('.click-sound').forEach(element => {
    element.addEventListener('click', () => {
        clickSound.currentTime = 0;
        clickSound.volume = 0.5;
        clickSound.play();
    });
});

// ========== إشعارات ==========
function showNotification(message, bgColor = 'var(--edit-color)') {
    const notification = document.createElement('div');
    notification.className = 'card';
    notification.style.position = 'fixed';
    notification.style.bottom = '20px';
    notification.style.right = '20px';
    notification.style.zIndex = '1000';
    notification.style.padding = '15px';
    notification.style.backgroundColor = bgColor;
    notification.style.color = 'white';
    notification.style.borderRadius = '10px';
    notification.style.boxShadow = '0 4px 10px rgba(0,0,0,0.2)';
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transition = 'opacity 0.5s ease';
        setTimeout(() => notification.remove(), 500);
    }, 3000);
}

// ========== شريط التقدم ==========
const progressBars = document.querySelectorAll('.progress-bar');
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const width = entry.target.style.width;
            entry.target.style.width = '0';
            setTimeout(() => {
                entry.target.style.width = width;
            }, 100);
        }
    });
}, {threshold: 0.5});

progressBars.forEach(bar => observer.observe(bar));

// ========== تهيئة الصفحة ==========
window.onload = function() {
    getVisitorInfo();
    animateBackground();
    
    // تحميل السمة المحفوظة
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') {
        isLightTheme = true;
        document.body.classList.add('light-theme');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i> تفعيل الوضع الليلي';
        darkModeBtn.innerHTML = '<i class="fas fa-moon"></i>';
    }
    
    // إضافة تذييل الصفحة
    const footer = document.createElement('div');
    footer.style.textAlign = 'center';
    footer.style.marginTop = '20px';
    footer.style.color = 'var(--text-color)';
    footer.style.opacity = '0.7';
    footer.innerHTML = `&copy; ${new Date().getFullYear()} - جميع الحقوق محفوظة - الإصدار 10.1`;
    document.querySelector('.container').appendChild(footer);
    
    // إضافة إشعارات أولية
    setTimeout(() => {
        addNotification('تم تحميل الملف الشخصي بنجاح');
    }, 2000);
    
    setTimeout(() => {
        addNotification('يمكنك تجربة المساعد الذكي في الزاوية السفلية');
    }, 4000);
    
    setTimeout(() => {
        addNotification('اضغط على الصورة 3 مرات لتفعيل وضع التعديل');
    }, 6000);
};
</script>
<!-- كل الكود السابق -->
<script src="features.js"></script>
</body>
</html>
</body>
</html>
